<template>
	<div
		id="telegram-popup"
		tabindex="-1"
		v-if="show"
		class="overflow-y-auto overflow-x-hidden fixed top-0 right-0 left-0 z-50 w-full md:inset-0 bg-opacity-60 duration-300 backdrop-blur-sm md:h-full h-full flex justify-center items-center"
	>
		<div class="md:w-[400px] md:h-[500px] w-[340px] relative bg-white rounded-[30px] overflow-hidden">
			<div class="h-[120px] bg-sky-500 relative">
				<svg class="absolute bottom-0" xmlns="http://www.w3.org/2000/svg" width="400" height="78" viewBox="0 0 400 78" fill="none">
					<path
						d="M400 122.4V58.24C395.729 56.304 390.993 55.216 385.994 55.216C377.347 55.216 369.452 58.456 363.453 63.776C358.23 43.04 339.464 27.68 317.108 27.68C306.453 27.68 296.606 31.176 288.664 37.072C288.712 36.32 288.751 35.56 288.751 34.792C288.751 16.024 273.538 0.807983 254.772 0.807983C236.007 0.807983 220.793 16.024 220.793 34.792C220.793 38.504 221.401 42.08 222.497 45.424C216.69 40.792 209.331 38.008 201.324 38.008C188.71 38.008 177.711 44.888 171.848 55.096C167.76 51.328 162.297 49.024 156.298 49.024C150.835 49.024 145.812 50.936 141.868 54.128C135.885 44.48 125.206 38.056 113.024 38.056C96.7864 38.056 83.2283 49.464 79.8928 64.704C71.126 53.992 57.8078 47.152 42.8899 47.152C24.0606 47.152 7.77485 58.048 -0.00805664 73.88V122.4H399.992H400Z"
						fill="#62AEE5"
					/>
				</svg>
				<svg class="absolute top-6" xmlns="http://www.w3.org/2000/svg" width="400" height="87" viewBox="0 0 400 87" fill="none">
					<path
						opacity="0.61"
						d="M400 86.648V5.99999C385.13 9.92799 373.116 20.896 367.757 35.136C363.429 27.352 355.119 22.08 345.584 22.08C338.257 22.08 331.666 25.192 327.035 30.152C320.123 12.504 302.958 0 282.865 0C257.316 0 236.495 20.208 235.479 45.512C233.96 45.168 232.376 44.976 230.752 44.976C223.393 44.976 216.914 48.72 213.106 54.408C208.995 40.736 196.317 30.776 181.311 30.776C170.488 30.776 160.882 35.952 154.819 43.968C150.963 27.544 136.229 15.312 118.632 15.312C99.9703 15.312 84.5245 29.064 81.8528 46.984C77.9894 41.752 71.7822 38.352 64.7752 38.352C58.8961 38.352 53.5688 40.744 49.7293 44.616C47.3217 32.448 36.5952 23.272 23.725 23.272C19.2216 23.272 14.9742 24.4 11.2627 26.384C11.4147 25.368 11.4947 24.328 11.4947 23.272C11.4947 15.072 6.83934 7.95999 0.024292 4.42399V86.648H400.024H400Z"
						fill="#59A8E3"
					/>
				</svg>
				<div class="absolute -bottom-14 right-0 left-0 flex justify-center">
					<svg class="w-24 h-24" xmlns="http://www.w3.org/2000/svg" width="114" height="114" viewBox="0 0 114 114" fill="none">
						<g filter="url(#filter0_d_379_2423)">
							<path
								d="M57 0C43.7422 0 31.0156 5.27109 21.6484 14.6445C12.2716 24.0217 7.0026 36.7389 7 50C7 63.2555 12.2734 75.982 21.6484 85.3555C31.0156 94.7289 43.7422 100 57 100C70.2578 100 82.9844 94.7289 92.3516 85.3555C101.727 75.982 107 63.2555 107 50C107 36.7445 101.727 24.018 92.3516 14.6445C82.9844 5.27109 70.2578 0 57 0Z"
								fill="url(#paint0_linear_379_2423)"
							/>
							<path
								d="M29.6328 49.4719C44.2109 43.1219 53.9296 38.9352 58.789 36.9126C72.6796 31.1368 75.5624 30.1336 77.4453 30.0997C77.8593 30.093 78.7812 30.1954 79.3828 30.6817C79.8828 31.0918 80.0234 31.6465 80.0937 32.036C80.1562 32.4251 80.2421 33.3118 80.1718 34.004C79.4218 41.9102 76.164 61.0961 74.5078 69.9516C73.8125 73.6985 72.4296 74.9547 71.0937 75.0774C68.1875 75.3446 65.9843 73.1586 63.1718 71.3157C58.7734 68.4305 56.289 66.6352 52.0156 63.8204C47.0781 60.5672 50.2812 58.779 53.0937 55.8571C53.8281 55.0922 66.6249 43.4555 66.8671 42.4001C66.8984 42.268 66.9296 41.7758 66.6328 41.5165C66.3437 41.2563 65.914 41.3454 65.6015 41.4157C65.1562 41.5157 58.1328 46.1626 44.5078 55.3555C42.5156 56.7258 40.7109 57.3938 39.0859 57.3586C37.3046 57.3204 33.8671 56.3493 31.3125 55.5196C28.1875 54.5016 25.6953 53.9633 25.914 52.2344C26.0234 51.3344 27.2656 50.4133 29.6328 49.4719Z"
								fill="white"
							/>
						</g>
						<defs>
							<filter id="filter0_d_379_2423" x="0" y="0" width="114" height="114" filterUnits="userSpaceOnUse" color-interpolation-filters="sRGB">
								<feFlood flood-opacity="0" result="BackgroundImageFix" />
								<feColorMatrix in="SourceAlpha" type="matrix" values="0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 127 0" result="hardAlpha" />
								<feOffset dy="7" />
								<feGaussianBlur stdDeviation="3.5" />
								<feComposite in2="hardAlpha" operator="out" />
								<feColorMatrix type="matrix" values="0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0.05 0" />
								<feBlend mode="normal" in2="BackgroundImageFix" result="effect1_dropShadow_379_2423" />
								<feBlend mode="normal" in="SourceGraphic" in2="effect1_dropShadow_379_2423" result="shape" />
							</filter>
							<linearGradient id="paint0_linear_379_2423" x1="5007" y1="0" x2="5007" y2="10000" gradientUnits="userSpaceOnUse">
								<stop stop-color="#2AABEE" />
								<stop offset="1" stop-color="#229ED9" />
							</linearGradient>
						</defs>
					</svg>
				</div>
			</div>
			<div class="justify-center items-center flex mt-16">
				<svg xmlns="http://www.w3.org/2000/svg" width="122" height="122" viewBox="0 0 122 122" fill="none">
					<path
						d="M0 17.08V34.16H17.08H34.16V17.08V4.57764e-05H17.08H0V17.08ZM29.28 17.08V29.28H17.08H4.88V17.08V4.88004H17.08H29.28V17.08Z"
						fill="#2AACEF"
					/>
					<path d="M9.75995 17.08V24.4H17.0799H24.3999V17.08V9.76003H17.0799H9.75995V17.08Z" fill="#2AACEF" />
					<path d="M39.0398 2.44001V4.88H43.9198H48.7998V2.44001V6.19888e-06H43.9198H39.0398V2.44001Z" fill="#2AACEF" />
					<path d="M78.0801 2.44001V4.88H80.5201H82.9601V2.44001V6.19888e-06H80.5201H78.0801V2.44001Z" fill="#2AACEF" />
					<path
						d="M87.84 17.08V34.16H104.92H122V17.08V4.57764e-05H104.92H87.84V17.08ZM117.12 17.08V29.28H104.92H92.72V17.08V4.88004H104.92H117.12V17.08Z"
						fill="#2AACEF"
					/>
					<path d="M97.6 17.08V24.4H104.92H112.24V17.08V9.76003H104.92H97.6V17.08Z" fill="#2AACEF" />
					<path
						d="M68.3198 7.31993V9.75993H60.9998H53.6798V14.6399V19.5199H51.2398H48.7998V17.0799V14.6399H46.3598H43.9198V12.1999V9.75993H41.4798H39.0398V17.0799V24.3999H41.4798H43.9198V26.8399V29.2799H41.4798H39.0398V31.7199V34.1599H41.4798H43.9198V36.5999V39.0399H41.4798H39.0398V43.9199V48.7999H43.9198H48.7998V46.3599V43.9199H46.3598H43.9198V41.4799V39.0399H46.3598H48.7998V36.5999V34.1599H51.2398H53.6798V36.5999V39.0399H56.1198H58.5598V36.5999V34.1599H60.9998H63.4398V31.7199V29.2799H65.8798H68.3198V31.7199V34.1599H70.7598H73.1998V36.5999V39.0399H70.7598H68.3198V41.4799V43.9199H70.7598H73.1998V41.4799V39.0399H75.6398H78.0798V43.9199V48.7999H80.5198H82.9598V46.3599V43.9199H85.3998H87.8398V41.4799V39.0399H82.9598H78.0798V36.5999V34.1599H80.5198H82.9598V31.7199V29.2799H80.5198H78.0798V31.7199V34.1599H75.6398H73.1998V29.2799V24.3999H78.0798H82.9598V21.9599V19.5199H78.0798H73.1998V12.1999V4.87994H70.7598H68.3198V7.31993ZM63.4398 19.5199V24.3999H60.9998H58.5598V29.2799V34.1599H56.1198H53.6798V31.7199V29.2799H51.2398H48.7998V31.7199V34.1599H46.3598H43.9198V31.7199V29.2799H46.3598H48.7998V26.8399V24.3999H53.6798H58.5598V19.5199V14.6399H60.9998H63.4398V19.5199Z"
						fill="#2AACEF"
					/>
					<path d="M78.0801 12.2V14.64H80.5201H82.9601V12.2V9.76002H80.5201H78.0801V12.2Z" fill="#2AACEF" />
					<path
						d="M0 41.4801V43.9201H4.88H9.76V46.3601V48.8001H14.64H19.52V53.6801V58.5601H21.96H24.4V56.1201V53.6801H29.28H34.16V51.2401V48.8001H31.72H29.28V46.3601V43.9201H31.72H34.16V41.4801V39.0401H31.72H29.28V41.4801V43.9201H24.4H19.52V41.4801V39.0401H9.76H0V41.4801Z"
						fill="#2AACEF"
					/>
					<path
						d="M97.6 41.4799V43.9199H104.92H112.24V46.3599V48.7999H114.68H117.12V46.3599V43.9199H119.56H122V41.4799V39.0399H119.56H117.12V41.4799V43.9199H114.68H112.24V41.4799V39.0399H104.92H97.6V41.4799Z"
						fill="#2AACEF"
					/>
					<path
						d="M63.44 51.24V53.68H58.56H53.68V58.56V63.44H51.24H48.8V61V58.56H46.36H43.92V56.12V53.68H41.48H39.04V58.56V63.44H36.6H34.16V61V58.56H31.72H29.28V61V63.44H31.72H34.16V65.88V68.32H31.72H29.28V70.76V73.2H26.84H24.4V68.32V63.44H19.52H14.64V68.32V73.2H12.2H9.76V70.76V68.32H7.32H4.88V70.76V73.2H2.44H0V75.64V78.08H2.44H4.88V75.64V73.2H7.32H9.76V75.64V78.08H12.2H14.64V75.64V73.2H17.08H19.52V78.08V82.96H21.96H24.4V80.52V78.08H26.84H29.28V80.52V82.96H34.16H39.04V85.4V87.84H41.48H43.92V85.4V82.96H46.36H48.8V75.64V68.32H53.68H58.56V73.2V78.08H56.12H53.68V80.52V82.96H56.12H58.56V85.4V87.84H53.68H48.8V90.28V92.72H53.68H58.56V95.16V97.6H56.12H53.68V100.04V102.48H56.12H58.56V104.92V107.36H56.12H53.68V109.8V112.24H51.24H48.8V104.92V97.6H46.36H43.92V100.04V102.48H41.48H39.04V112.24V122H43.92H48.8V119.56V117.12H51.24H53.68V114.68V112.24H61H68.32V104.92V97.6H73.2H78.08V102.48V107.36H75.64H73.2V109.8V112.24H78.08H82.96V117.12V122H102.48H122V119.56V117.12H117.12H112.24V114.68V112.24H114.68H117.12V109.8V107.36H119.56H122V104.92V102.48H119.56H117.12V100.04V97.6H119.56H122V85.4V73.2H119.56H117.12V70.76V68.32H119.56H122V63.44V58.56H117.12H112.24V56.12V53.68H107.36H102.48V51.24V48.8H100.04H97.6V51.24V53.68H100.04H102.48V56.12V58.56H97.6H92.72V53.68V48.8H90.28H87.84V53.68V58.56H85.4H82.96V56.12V53.68H78.08H73.2V51.24V48.8H68.32H63.44V51.24ZM73.2 56.12V58.56H75.64H78.08V61V63.44H75.64H73.2V61V58.56H70.76H68.32V56.12V53.68H70.76H73.2V56.12ZM63.44 61V63.44H65.88H68.32V65.88V68.32H63.44H58.56V63.44V58.56H61H63.44V61ZM107.36 61V63.44H112.24H117.12V65.88V68.32H112.24H107.36V70.76V73.2H112.24H117.12V75.64V78.08H109.8H102.48V68.32V58.56H104.92H107.36V61ZM48.8 65.88V68.32H46.36H43.92V70.76V73.2H41.48H39.04V70.76V68.32H41.48H43.92V65.88V63.44H46.36H48.8V65.88ZM82.96 70.76V73.2H78.08H73.2V70.76V68.32H78.08H82.96V70.76ZM97.6 70.76V73.2H95.16H92.72V70.76V68.32H95.16H97.6V70.76ZM34.16 75.64V78.08H31.72H29.28V75.64V73.2H31.72H34.16V75.64ZM68.32 75.64V78.08H73.2H78.08V80.52V82.96H73.2H68.32V80.52V78.08H65.88H63.44V80.52V82.96H61H58.56V80.52V78.08H61H63.44V75.64V73.2H65.88H68.32V75.64ZM97.6 90.28V97.6H90.28H82.96V90.28V82.96H90.28H97.6V90.28ZM107.36 87.84V92.72H109.8H112.24V97.6V102.48H109.8H107.36V100.04V97.6H104.92H102.48V90.28V82.96H104.92H107.36V87.84ZM117.12 85.4V87.84H114.68H112.24V85.4V82.96H114.68H117.12V85.4ZM78.08 90.28V92.72H73.2H68.32V95.16V97.6H65.88H63.44V95.16V92.72H65.88H68.32V90.28V87.84H73.2H78.08V90.28ZM97.6 109.8V117.12H92.72H87.84V114.68V112.24H90.28H92.72V107.36V102.48H95.16H97.6V109.8ZM107.36 112.24V117.12H104.92H102.48V112.24V107.36H104.92H107.36V112.24ZM48.8 114.68V117.12H46.36H43.92V114.68V112.24H46.36H48.8V114.68Z"
						fill="#2AACEF"
					/>
					<path d="M87.84 90.28V92.72H90.28H92.72V90.28V87.84H90.28H87.84V90.28Z" fill="#2AACEF" />
					<path d="M0 58.5599V63.4399H2.44H4.88V58.5599V53.6799H2.44H0V58.5599Z" fill="#2AACEF" />
					<path d="M9.75995 56.1201V58.5601H12.1999H14.6399V56.1201V53.6801H12.1999H9.75995V56.1201Z" fill="#2AACEF" />
					<path
						d="M0 104.92V122H17.08H34.16V104.92V87.84H17.08H0V104.92ZM29.28 104.92V117.12H17.08H4.88V104.92V92.72H17.08H29.28V104.92Z"
						fill="#2AACEF"
					/>
					<path d="M9.75995 104.92V112.24H17.0799H24.3999V104.92V97.6H17.0799H9.75995V104.92Z" fill="#2AACEF" />
					<path d="M58.5602 119.56V122H61.0002H63.4402V119.56V117.12H61.0002H58.5602V119.56Z" fill="#2AACEF" />
					<path d="M68.3196 119.56V122H73.1996H78.0796V119.56V117.12H73.1996H68.3196V119.56Z" fill="#2AACEF" />
				</svg>
			</div>
			<div class="text-zinc-500 text-lg font-normal text-center mt-2">@uzchamber</div>
			<div class="text-center text-gray text-2xl font-normal mt-3">
				{{ $t("connect_to_telegram") }}
			</div>
			<div class="text-center my-3">
				<WBtn color="info" @click="clickConnect" :to="MainSetting.telegram" target="_blank">{{ $t("connect") }}</WBtn>
			</div>

			<button
				type="button"
				@click="show = false"
				class="absolute top-6 right-6 text-white p-2 duration-300"
				data-dismiss-target="#alert-2"
				aria-label="Close"
			>
				<span class="sr-only">Close</span>
				<svg class="w-3 h-3" aria-hidden="true" xmlns="http://www.w3.org/2000/svg" fill="none" viewBox="0 0 14 14">
					<path stroke="currentColor" stroke-linecap="round" stroke-linejoin="round" stroke-width="2" d="m1 1 6 6m0 0 6 6M7 7l6-6M7 7l-6 6" />
				</svg>
			</button>
		</div>
	</div>
</template>

<script setup lang="ts">
import { ref, onMounted } from "vue";
import { storeToRefs } from "pinia";
import WBtn from "./w-ui/WBtn";
import { useMainSettingStore } from "@/store/MainSetting";

const MainStore = useMainSettingStore();
const { MainSetting } = storeToRefs(MainStore);

const show = ref(false);

const clickConnect = () => {
	localStorage.setItem("isConnectTelegram", "1");
};

onMounted(() => {
	if (localStorage.getItem("isConnectTelegram")) {
		if (location.hostname != "localhost") {
			setTimeout(() => {
				show.value = true;
			}, 30 * 1000);
		}
	}
});
</script>
